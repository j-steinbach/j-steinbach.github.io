---
import { getCollection } from "astro:content";

import BaseLayout from "../layouts/BaseLayout.astro";
import BlogPost from "../components/BlogPost.astro";
import IndexHeader from "../components/IndexHeader.astro";
import { Icon } from "astro-icon/components";

// const allPosts = await Astro.glob("../pages/posts/*.md");
const blogEntries = await getCollection("blog");

const pageTitle = "Index";
---

<BaseLayout pageTitle={pageTitle}>
  <div class="">
    <IndexHeader title={pageTitle} />

    <div class="flex flex-col prose space-y-1 mx-1 sm:mr-0">
      <div class="flex flex-col prose space-y-1 mx-1 sm:mr-0">
        <p class="italic text-xl mt-1 mb-1">
          Ain't it awesome? Bold colors, cool fonts, emojis, and interesting
          content ðŸ¦¢ðŸ¦¢ðŸ¦¢
        </p>

        <p
          class="border-2 bg-green-50 border-green-400 p-2 m-0
        first-letter:text-5xl first-letter:font-bold first-letter:text-slate-900
        first-letter:mr-2 first-letter:float-left first-letter:font-mono first-letter:bg-green-400 first-letter:p-2"
        >
          <span class="uppercase tracking-widest">Why?</span>
          Because I can, because its fun and because I needed a professional platform
          to share my stuff.
        </p>
        <p
          class="border-2 bg-teal-50 border-teal-400 p-2
        first-letter:text-5xl first-letter:font-bold first-letter:text-slate-900
        first-letter:mr-2 first-letter:float-left first-letter:font-mono first-letter:bg-teal-300 first-letter:p-2"
        >
          <span class="uppercase tracking-wide">Professionalâ€¦?</span>
          Don't believe me? <a>Scrutinize my CV!</a>
          I am a computer science researcher and developer advocate, know how to
          design, develop and launch apps, know a lot about usability, UI/UX, game
          design and learning, and also am a upcoming artist and aspiring novelist!
          And I really love pizza, swans, colors, rain, and pizza!
        </p>
        <p
          class="border-2 bg-sky-50 border-sky-400 p-2
        first-letter:text-5xl first-letter:font-bold first-letter:text-slate-900
        first-letter:mr-2 first-letter:float-left first-letter:font-mono first-letter:bg-sky-300 first-letter:p-2"
        >
          <span class="uppercase tracking-widest">Artâ€¦?</span>
          Yes, I do abstract digital art â€” not to brag, but my mom really likes it,
          and a stranger also once asked me if I plan to sell a mashup! So go ahead
          and <a>view my art collection</a>, leave a like and also
          <a>follow me on Instagram</a>!
        </p>
        <p
          class="border-2 bg-indigo-50 border-indigo-400 p-2
        first-letter:text-5xl first-letter:font-bold first-letter:text-slate-900
        first-letter:mr-2 first-letter:float-left first-letter:font-mono first-letter:bg-indigo-300 first-letter:p-2"
        >
          <span class="uppercase tracking-widest">Writings.</span>
          It might come as a surprise, but I also write and have opinions.
          <a>Read my latest writings and blog posts</a>, or look below for a
          quick peek.
          <!-- Recipes -->
        </p>
        <p
          class="border-2 bg-purple-50 border-purple-400 p-2
        first-letter:text-5xl first-letter:font-bold first-letter:text-slate-900
        first-letter:mr-2 first-letter:float-left first-letter:font-mono first-letter:bg-purple-300 first-letter:p-2"
        >
          <span class="uppercase tracking-widest">Contact me!</span>
          I speak German, English and Dutch, and also some French and Turkish &#127465;&#127466;
          &#127463;&#127466; &#127475;&#127473; &#127467;&#127479; &#127481;&#127479;
        </p>

        <!-- <p -->
        <!--   class="px-2 pt-4 -->
        <!--   first-letter:text-7xl first-letter:font-bold first-letter:text-slate-900 -->
        <!--   first-letter:mr-2 first-letter:float-left first-letter:font-serif" -->
        <!-- > -->
        <!--   <span class="uppercase tracking-widest"> Contact me!</span> -->
        <!-- </p> -->
      </div>
    </div>

    <!-- Contact + Icons -->
    <div class="flex flex-row gap-x-4 pb-4 pt-4">
      <div class="bg-stone-800 grow sm:hidden"></div>
      <h3
        class="grow bg-stone-800 text-yellow-300 font-sans text-xl text-center w-0 m-0 hidden sm:block"
      >
        Contact me!
      </h3>
      <a href="#"><Icon name="mdi:email" class="w-8 h-8" /></a>
      <a href="#"><Icon name="mdi:github" class="w-8 h-8" /></a>
      <a href="#"><Icon name="mdi:instagram" class="w-8 h-8" /></a>
      <a href="#"><Icon name="mdi:university" class="w-8 h-8" /></a>
      <a href="#"><Icon name="mdi:linkedin" class="w-8 h-8" /></a>
      <div class="bg-stone-800 grow"></div>
    </div>

    <div class="bg-stone-800 h-1 my-2"></div>

    <!-- Latest blog posts -->
    <div class="flex flex-col prose">
      <h4>You found my latest writings! Good job!</h4>
      <p>
        Below is a list of my latest writings and blog posts. Alternatively, you
        can browse by <a>tags</a>.
      </p>

      <ol class="list-decimal bg-yellow-200">
        {
          blogEntries.map((post) => (
            <>
              <BlogPost url={`/posts/${post.slug}/`} title={post.data.title} />
            </>
          ))
        }
      </ol>
    </div>
  </div>
</BaseLayout>
